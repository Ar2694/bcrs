<!--
/*
============================================
; Title: role-list.component.ts
; Author: Professor Krasso
; Date:   29 April 2021
; Modified by: Karina Alvarez
; Description: Role list
;===========================================
*/
-->
<div fxLayout="column" fxLayoutAlign="center center" class="role-list">
	<mat-card class="mat-elevation-z0">

    <!-- Card Title and Subtitle -->
		<mat-card-title style="font-weight:lighter; text-align: center;">Role Configuration</mat-card-title>
		<br>
    <mat-card-subtitle>
      <button mat-button routerLink='/roles/create/new' color='primary'>
        Create
      </button>
    </mat-card-subtitle>


    <br>
    <!-- Table of the roles that can be assigned to a user -->
    <mat-card-content *ngIf='roles'>
      <table mat-table [dataSource]='roles'>
        <ng-container matColumnDef='role'>
          <th mat-header-cell *matHeaderCellDef> Role </th>
          <td mat-cell *matCellDef='let element'> {{ element.text }} </td>
        </ng-container>

        <!-- Edit and delete functions -->
        <ng-container matColumnDef='functions'>
          <th mat-header-cell *matHeaderCellDef> Functions </th>
          <td mat-cell *matCellDef='let element'>
            <button mat-icon-button routerLink='/roles/{{element._id}}'>
              <mat-icon color='accent'>edit</mat-icon>
            </button>
            <button mat-icon-button (click)='delete(element._id, element.text)'>
              <mat-icon color='accent'>delete</mat-icon>
            </button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef='displayedColumns'></tr>
        <tr mat-row *matRowDef='let row; columns: displayedColumns;'></tr>

      </table>
    </mat-card-content>

	</mat-card>
</div>
